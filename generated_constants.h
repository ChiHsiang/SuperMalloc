#ifndef GENERATED_CONSTANTS_H
#define GENERATED_CONSTANTS_H
// Do not edit this file.  This file is automatically generated
//  from objsizes.cc

// In small and medium pages we reserve the first cache line
// (64 bytes) for a in-use bitmap.
static const uint64_t pagesize = 4096ul;
static const uint64_t log_chunksize = 21ul;
static const uint64_t chunksize = 2097152ul;

// We obtain hugepages from the operating system via mmap(2).
// By `hugepage', I mean only mmapped pages.
// By `page', I mean only a page inside a hugepage.
// Each hugepage has a bin number.
typedef uint32_t binnnumber_t;
// We use a static array to keep track of the bin of each a hugepage.
//  Bins [0..first_huge_bin_number) give the size of an object.
//  Larger bin numbers B indicate the object size, coded as
//     malloc_usable_size(object) = page_size*(bin_of(object)-first_huge_bin_number;
typedef uint32_t binnumber_t;
static const struct { uint32_t object_size; uint32_t objects_per_page; } static_bin_info[] __attribute__((unused)) = {
// The first class of small objects have sizes of the form c<<k where c is 4, 5, 6 or 7.
//   objsize objects_per_page   bin   wastage
 {   8, 504},  //     0       0
 {  10, 403},  //     1       2
 {  12, 336},  //     2       0
 {  14, 288},  //     3       0
 {  16, 252},  //     4       0
 {  20, 201},  //     5      12
 {  24, 168},  //     6       0
 {  28, 144},  //     7       0
 {  32, 126},  //     8       0
 {  40, 100},  //     9      32
 {  48,  84},  //    10       0
 {  56,  72},  //    11       0
 {  64,  63},  //    12       0
 {  80,  50},  //    13      32
 {  96,  42},  //    14       0
 { 112,  36},  //    15       0
 { 128,  31},  //    16      64
 { 160,  25},  //    17      32
 { 192,  21},  //    18       0
 { 224,  18},  //    19       0
 { 256,  15},  //    20     192
// Class 2 small objects are chosen to fit as many in a page as can fit.
// Class 2 objects are always a multiple of a cache line.
 { 320,  12},  //    21       192
 { 384,  10},  //    22       192
 { 448,   9},  //    23         0
 { 576,   7},  //    24         0
 { 640,   6},  //    25       192
 { 768,   5},  //    26       192
 { 960,   4},  //    27       192
 {1344,   3},  //    28         0
 {1984,   2},  //    29        64
// large objects (page allocated):
 {1ul<<12, 1}, //    30
 {1ul<<13, 1}, //    31
 {1ul<<14, 1}, //    32
 {1ul<<15, 1}, //    33
 {1ul<<16, 1}, //    34
 {1ul<<17, 1}, //    35
 {1ul<<18, 1}, //    36
 {1ul<<19, 1}, //    37
 {1ul<<20, 1}, //    38
// huge objects (chunk allocated) start  at this size.
 {2097152, 1}};//  39
static const size_t largest_small         = 1984;
static const size_t largest_large         = 1048576;
static const size_t chunk_size            = 2097152;
static const binnumber_t first_large_bin_number = 30;
static const binnumber_t first_huge_bin_number   = 39;
#endif
